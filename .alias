#!/usr/bin/env bash

if [ $(uname -s) = "Darwin" ]; then
    alias ls='ls --color=auto'
    alias ll='ls -al'
fi

lint () {
    flake8 --ignore "E124,E125,E128,E201,E203,E241,E402,W503,E722" $1
    mypy \
        --warn-redundant-casts \
        --warn-unused-ignores \
        --warn-return-any \
        --check-untyped-defs \
        $1
}

python_with () {
    env $(cat $1 | xargs) python $2
}

export -f lint
export -f python_with
export WD=$(pwd)
export MYPYPATH="$WD/src/stubs"
